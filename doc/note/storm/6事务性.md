先看下如果没有事务性，那么会出现的问题。 

如果我们在数据库中计数。这个时候出现异常，那么就会重发， 重发之后不知道当前的这条是否已经计入过了，就有可能重复。
所以我们需要一种方式来保证重发之后不会被重复技术。保证一个tuple被且只被处理一次。

Trident提供了如下的语义来保证这一点：
tuples 被分成小的批次进行处理。
每一批都被指定给一个唯一的txid.当被重播的时候txid保持不变。
批与批之间顺序严格

三个事务级别：


事务性拓扑，这一特性使消息在语义上确保你可以安全的方式重发消息，并保证它们只会被处理一次。
事务性拓扑是一个构建于标准Storm spout和bolt之上的抽象概念。

spout并行分批创建供bolt处理的元组， 比如有两个批次，每个批次五个元组，那么同一时间会有两个元组被处理，处理完成之后会处理下一个元组。
处理阶段 纯并行阶段，许多批次同时处理。 提交阶段 严格有序阶段，直到批次一成功提交之后，才会提交批次二。 这两个阶段合起来称为一个Storm事务。 
Storm使用zookeeper储存事务元数据。








