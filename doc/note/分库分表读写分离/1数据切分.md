##数据切分
垂直切分： 不同的表放到不同的数据库。  减少库的并发和大小
水平切分：同一张表的数据切成不同的表，放在不同的库中

### 垂直切分 
对表做分类，整理出关系紧密的一组表放在一个库中
    优点：
  业务更清晰，拆分规则明确
  系统之间整合和扩展容易
数据维护简单
    缺点：
  部分业务表无法join,只能通过接口方式解决，提高系统的复杂度
 受每种业务不同的限制存在单库性能瓶颈，不易于数据扩展和性能的提高
事务处理复杂。

### 水平切分
     防止单表过大
     按行切分。  按照某个字段的某种规则(取模，时间等等)把数据分散到多个库中。
     集中典型的分表：
 取模， 将相关的其他数据都分在一个库中
按照日期分
优点：
 拆分规则抽象好，join操作基本可以数据库做
不存在单库大数据，高并发瓶颈
应用端改造少
提高稳定性和负载能力
缺点：
 不好抽象
分片的事务一致性不好解决
多次扩展的难度和维护量极大
垮库的JOIN性能差。

垂直和水平，共同的缺点：
    引入分布式事务的问题
跨节点Join的问题
跨节点合并排序的问题
多数据源管理问题

数据源管理
思路：
    客户端配置，就是在客户端直接多数据源
中间件， 后端数据库集群对前端透明

jOIN难度方面需要注意的问题：
    能不分的尽量不分
合适的切分规则
尽量通过数据冗余和表分组来减少垮库的JOIN
业务读取尽量少用JOIN.
